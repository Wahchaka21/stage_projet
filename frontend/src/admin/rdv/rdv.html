<div class="rounded-2xl border border-[#e1e9f5] bg-[#f5f7fb] p-5 shadow-inner max-w-2xl">
    <h3 class="text-lg font-semibold text-[#315f92] mb-3">Planifier un rendez-vous</h3>

    <div class="grid gap-4 sm:grid-cols-2">
        <div class="sm:col-span-1">
            <label class="block text-sm font-medium text-[#315f92] mb-1">Date & heure</label>
            <input type="datetime-local" [(ngModel)]="rdvLocal" name="rdvLocal"
                class="w-full rounded-xl border border-[#315f92]/30 bg-white px-3 py-2 text-sm text-[#315f92] focus:border-[#315f92] focus:outline-none" />
        </div>

        <div class="sm:col-span-2">
            <label class="block text-sm font-medium text-[#315f92] mb-1">Description (optionnelle)</label>
            <textarea rows="4" [(ngModel)]="rdvDescription" name="rdvDescription"
                class="w-full rounded-xl border border-[#315f92]/30 bg-white px-3 py-2 text-sm text-[#315f92] focus:border-[#315f92] focus:outline-none"
                placeholder="Ex: appel de suivi, séance, etc."></textarea>
        </div>
    </div>

    <div class="mt-4 flex items-center justify-between">
        <div class="text-xs text-[#527bab]">
            <span *ngIf="!selectedUserId">Sélectionne d’abord un utilisateur.</span>
            <span *ngIf="selectedUserId">Client sélectionné prêt à recevoir un RDV.</span>
        </div>

        <button type="button" (click)="handleCreateRdv()" [disabled]="rdvLoading || !selectedUserId"
            class="rounded-full bg-[#315f92] px-5 py-2 text-sm font-semibold text-white transition hover:bg-[#24476e] disabled:opacity-60 disabled:cursor-not-allowed cursor-pointer">
            {{ getCreateButtonLabel() }}
        </button>
    </div>

    <p *ngIf="rdvError" class="mt-3 rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700">
        {{ rdvError }}
    </p>
    <p *ngIf="rdvSucces"
        class="mt-3 rounded-xl border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700">
        {{ rdvSucces }}
    </p>
</div>
